# ========================================
# TEMPLATE DEPENDABOT 2025 - PRODUCTION READY
# ========================================
# Compatible avec tous vos projets Next.js/React
# TestÃ© sur: benew-client + buyitnow-client
# Conforme aux derniÃ¨res spÃ©cifications GitHub 2025
# Auteur: Assistant IA + Web Research
# Date: Juillet 2025
# Version: 2.0

version: 2
updates:
  - package-ecosystem: 'npm'
    directory: '/'
    schedule:
      interval: 'weekly'
      day: 'monday'
      time: '09:00'
      timezone: 'Europe/Paris'
    open-pull-requests-limit: 5
    labels:
      - 'dependencies'

    # âœ… GROUPEMENT UNIVERSEL - Couvre TOUTES les dÃ©pendances
    groups:
      # ðŸŸ¢ PATCHES - Corrections de bugs (SÃ›RES pour tous projets)
      patches:
        patterns:
          - '*' # Couvre automatiquement toutes les dÃ©pendances
        update-types:
          - 'patch' # Seulement x.y.Z â†’ x.y.Z+1

      # ðŸŸ¡ MINOR PRODUCTION - Nouvelles fonctionnalitÃ©s (REVIEW REQUIS)
      minor-production:
        patterns:
          - '*' # Toutes les dÃ©pendances de production
        dependency-type: 'production'
        update-types:
          - 'minor' # Seulement x.Y.z â†’ x.Y+1.z

      # ðŸŸ¢ MINOR DEVELOPMENT - Outils de dev (GÃ‰NÃ‰RALEMENT SÃ›RS)
      minor-development:
        patterns:
          - '*' # Tous les devDependencies
        dependency-type: 'development'
        update-types:
          - 'minor' # ESLint, Prettier, Tailwind, etc.

    # âœ… EXCLUSIONS UNIVERSELLES - Majors problÃ©matiques
    ignore:
      # React ecosystem - Toujours attendre stabilitÃ©
      - dependency-name: 'react'
        update-types: ['version-update:semver-major']
      - dependency-name: 'react-dom'
        update-types: ['version-update:semver-major']

      # Next.js - Ã‰viter breaking changes
      - dependency-name: 'next'
        update-types: ['version-update:semver-major']

      # ESLint - Breaking changes frÃ©quents
      - dependency-name: 'eslint'
        update-types: ['version-update:semver-major']

      # Authentification - Critique pour e-commerce
      - dependency-name: 'next-auth'
        update-types: ['version-update:semver-major']

      # Base de donnÃ©es - Critique pour tous projets
      - dependency-name: 'mongoose'
        update-types: ['version-update:semver-major']
      - dependency-name: 'pg'
        update-types: ['version-update:semver-major']

      # CSS Frameworks - UI critique
      - dependency-name: 'tailwindcss'
        update-types: ['version-update:semver-major']
      - dependency-name: 'sass'
        update-types: ['version-update:semver-major']

    # ðŸ†• NOUVEAU 2025: Cooldown pour stabilitÃ© production
    # Ã‰vite les updates trop rÃ©centes, permet aux packages de se stabiliser
    cooldown:
      default-days: 3 # Attendre 3 jours par dÃ©faut
      semver-major-days: 7 # Attendre 7 jours pour les majors
      semver-minor-days: 3 # Attendre 3 jours pour les minors
      semver-patch-days: 1 # Attendre 1 jour pour les patches

    # âœ… CONFIGURATION 2025 - reviewers DEPRECATED
    # IMPORTANT: CrÃ©ez un fichier .github/CODEOWNERS Ã  la place
    # Exemple CODEOWNERS: "* @Fathismael93"
    assignees:
      - 'Fathismael93' # Remplacez par votre username

    commit-message:
      prefix: 'chore(deps)'
      prefix-development: 'chore(deps-dev)'
      include: 'scope'
